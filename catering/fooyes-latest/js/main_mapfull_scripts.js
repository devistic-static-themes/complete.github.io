function MarkerClusterer(a,b,c){this.extend(MarkerClusterer,google.maps.OverlayView);this.map_=a;this.markers_=[];this.clusters_=[];this.sizes=[53,56,66,78,90];this.styles_=[];this.ready_=false;var d=c||{};this.gridSize_=d.gridSize||60;this.minClusterSize_=d.minimumClusterSize||2;this.maxZoom_=d.maxZoom||null;this.styles_=d.styles||[];this.imagePath_=d.imagePath||this.MARKER_CLUSTER_IMAGE_PATH_;this.imageExtension_=d.imageExtension||this.MARKER_CLUSTER_IMAGE_EXTENSION_;this.zoomOnClick_=true;if(d.zoomOnClick!=undefined){this.zoomOnClick_=d.zoomOnClick}this.averageCenter_=false;if(d.averageCenter!=undefined){this.averageCenter_=d.averageCenter}this.setupStyles_();this.setMap(a);this.prevZoom_=this.map_.getZoom();var e=this;google.maps.event.addListener(this.map_,"zoom_changed",function(){var f=e.map_.getZoom();if(e.prevZoom_!=f){e.prevZoom_=f;e.resetViewport()}});google.maps.event.addListener(this.map_,"idle",function(){e.redraw()});if(b&&b.length){this.addMarkers(b,false)}}MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_PATH_="https://cdn.rawgit.com/googlemaps/js-marker-clusterer/gh-pages/images/m";MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_EXTENSION_="png";MarkerClusterer.prototype.extend=function(a,b){return(function(c){for(var d in c.prototype){this.prototype[d]=c.prototype[d]}return this}).apply(a,[b])};MarkerClusterer.prototype.onAdd=function(){this.setReady_(true)};MarkerClusterer.prototype.draw=function(){};MarkerClusterer.prototype.setupStyles_=function(){if(this.styles_.length){return}for(var a=0,b;b=this.sizes[a];a++){this.styles_.push({url:this.imagePath_+(a+1)+"."+this.imageExtension_,height:b,width:b})}};MarkerClusterer.prototype.fitMapToMarkers=function(){var d=this.getMarkers();var a=new google.maps.LatLngBounds();for(var b=0,c;c=d[b];b++){a.extend(c.getPosition())}this.map_.fitBounds(a)};MarkerClusterer.prototype.setStyles=function(a){this.styles_=a};MarkerClusterer.prototype.getStyles=function(){return this.styles_};MarkerClusterer.prototype.isZoomOnClick=function(){return this.zoomOnClick_};MarkerClusterer.prototype.isAverageCenter=function(){return this.averageCenter_};MarkerClusterer.prototype.getMarkers=function(){return this.markers_};MarkerClusterer.prototype.getTotalMarkers=function(){return this.markers_.length};MarkerClusterer.prototype.setMaxZoom=function(a){this.maxZoom_=a};MarkerClusterer.prototype.getMaxZoom=function(){return this.maxZoom_};MarkerClusterer.prototype.calculator_=function(d,e){var c=0;var a=d.length;var b=a;while(b!==0){b=parseInt(b/10,10);c++}c=Math.min(c,e);return{text:a,index:c}};MarkerClusterer.prototype.setCalculator=function(a){this.calculator_=a};MarkerClusterer.prototype.getCalculator=function(){return this.calculator_};MarkerClusterer.prototype.addMarkers=function(c,d){for(var a=0,b;b=c[a];a++){this.pushMarkerTo_(b)}if(!d){this.redraw()}};MarkerClusterer.prototype.pushMarkerTo_=function(a){a.isAdded=false;if(a.draggable){var b=this;google.maps.event.addListener(a,"dragend",function(){a.isAdded=false;b.repaint()})}this.markers_.push(a)};MarkerClusterer.prototype.addMarker=function(a,b){this.pushMarkerTo_(a);if(!b){this.redraw()}};MarkerClusterer.prototype.removeMarker_=function(d){var b=-1;if(this.markers_.indexOf){b=this.markers_.indexOf(d)}else{for(var a=0,c;c=this.markers_[a];a++){if(c==d){b=a;break}}}if(b==-1){return false}d.setMap(null);this.markers_.splice(b,1);return true};MarkerClusterer.prototype.removeMarker=function(a,b){var c=this.removeMarker_(a);if(!b&&c){this.resetViewport();this.redraw();return true}else{return false}};MarkerClusterer.prototype.removeMarkers=function(c,d){var f=false;for(var a=0,b;b=c[a];a++){var e=this.removeMarker_(b);f=f||e}if(!d&&f){this.resetViewport();this.redraw();return true}};MarkerClusterer.prototype.setReady_=function(a){if(!this.ready_){this.ready_=a;this.createClusters_()}};MarkerClusterer.prototype.getTotalClusters=function(){return this.clusters_.length};MarkerClusterer.prototype.getMap=function(){return this.map_};MarkerClusterer.prototype.setMap=function(a){this.map_=a};MarkerClusterer.prototype.getGridSize=function(){return this.gridSize_};MarkerClusterer.prototype.setGridSize=function(a){this.gridSize_=a};MarkerClusterer.prototype.getMinClusterSize=function(){return this.minClusterSize_};MarkerClusterer.prototype.setMinClusterSize=function(a){this.minClusterSize_=a};MarkerClusterer.prototype.getExtendedBounds=function(c){var e=this.getProjection();var g=new google.maps.LatLng(c.getNorthEast().lat(),c.getNorthEast().lng());var a=new google.maps.LatLng(c.getSouthWest().lat(),c.getSouthWest().lng());var h=e.fromLatLngToDivPixel(g);h.x+=this.gridSize_;h.y-=this.gridSize_;var b=e.fromLatLngToDivPixel(a);b.x-=this.gridSize_;b.y+=this.gridSize_;var d=e.fromDivPixelToLatLng(h);var f=e.fromDivPixelToLatLng(b);c.extend(d);c.extend(f);return c};MarkerClusterer.prototype.isMarkerInBounds_=function(b,a){return a.contains(b.getPosition())};MarkerClusterer.prototype.clearMarkers=function(){this.resetViewport(true);this.markers_=[]};MarkerClusterer.prototype.resetViewport=function(d){for(var b=0,a;a=this.clusters_[b];b++){a.remove()}for(var b=0,c;c=this.markers_[b];b++){c.isAdded=false;if(d){c.setMap(null)}}this.clusters_=[]};MarkerClusterer.prototype.repaint=function(){var a=this.clusters_.slice();this.clusters_.length=0;this.resetViewport();this.redraw();window.setTimeout(function(){for(var c=0,b;b=a[c];c++){b.remove()}},0)};MarkerClusterer.prototype.redraw=function(){this.createClusters_()};MarkerClusterer.prototype.distanceBetweenPoints_=function(i,j){if(!i||!j){return 0}var k=6371;var g=(j.lat()-i.lat())*Math.PI/180;var h=(j.lng()-i.lng())*Math.PI/180;var b=Math.sin(g/2)*Math.sin(g/2)+Math.cos(i.lat()*Math.PI/180)*Math.cos(j.lat()*Math.PI/180)*Math.sin(h/2)*Math.sin(h/2);var e=2*Math.atan2(Math.sqrt(b),Math.sqrt(1-b));var f=k*e;return f};MarkerClusterer.prototype.addToClosestCluster_=function(h){var f=40000;var c=null;var j=h.getPosition();for(var g=0,b;b=this.clusters_[g];g++){var a=b.getCenter();if(a){var e=this.distanceBetweenPoints_(a,h.getPosition());if(e<f){f=e;c=b}}}if(c&&c.isMarkerInClusterBounds(h)){c.addMarker(h)}else{var b=new Cluster(this);b.addMarker(h);this.clusters_.push(b)}};MarkerClusterer.prototype.createClusters_=function(){if(!this.ready_){return}var c=new google.maps.LatLngBounds(this.map_.getBounds().getSouthWest(),this.map_.getBounds().getNorthEast());var a=this.getExtendedBounds(c);for(var b=0,d;d=this.markers_[b];b++){if(!d.isAdded&&this.isMarkerInBounds_(d,a)){this.addToClosestCluster_(d)}}};function Cluster(a){this.markerClusterer_=a;this.map_=a.getMap();this.gridSize_=a.getGridSize();this.minClusterSize_=a.getMinClusterSize();this.averageCenter_=a.isAverageCenter();this.center_=null;this.markers_=[];this.bounds_=null;this.clusterIcon_=new ClusterIcon(this,a.getStyles(),a.getGridSize())}Cluster.prototype.isMarkerAlreadyAdded=function(c){if(this.markers_.indexOf){return this.markers_.indexOf(c)!=-1}else{for(var a=0,b;b=this.markers_[a];a++){if(b==c){return true}}}return false};Cluster.prototype.addMarker=function(f){if(this.isMarkerAlreadyAdded(f)){return false}if(!this.center_){this.center_=f.getPosition();this.calculateBounds_()}else{if(this.averageCenter_){var b=this.markers_.length+1;var c=(this.center_.lat()*(b-1)+f.getPosition().lat())/b;var e=(this.center_.lng()*(b-1)+f.getPosition().lng())/b;this.center_=new google.maps.LatLng(c,e);this.calculateBounds_()}}f.isAdded=true;this.markers_.push(f);var d=this.markers_.length;if(d<this.minClusterSize_&&f.getMap()!=this.map_){f.setMap(this.map_)}if(d==this.minClusterSize_){for(var a=0;a<d;a++){this.markers_[a].setMap(null)}}if(d>=this.minClusterSize_){f.setMap(null)}this.updateIcon();return true};Cluster.prototype.getMarkerClusterer=function(){return this.markerClusterer_};Cluster.prototype.getBounds=function(){var a=new google.maps.LatLngBounds(this.center_,this.center_);var d=this.getMarkers();for(var b=0,c;c=d[b];b++){a.extend(c.getPosition())}return a};Cluster.prototype.remove=function(){this.clusterIcon_.remove();this.markers_.length=0;delete this.markers_};Cluster.prototype.getSize=function(){return this.markers_.length};Cluster.prototype.getMarkers=function(){return this.markers_};Cluster.prototype.getCenter=function(){return this.center_};Cluster.prototype.calculateBounds_=function(){var a=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(a)};Cluster.prototype.isMarkerInClusterBounds=function(a){return this.bounds_.contains(a.getPosition())};Cluster.prototype.getMap=function(){return this.map_};Cluster.prototype.updateIcon=function(){var f=this.map_.getZoom();var c=this.markerClusterer_.getMaxZoom();if(c&&f>c){for(var a=0,b;b=this.markers_[a];a++){b.setMap(this.map_)}return}if(this.markers_.length<this.minClusterSize_){this.clusterIcon_.hide();return}var d=this.markerClusterer_.getStyles().length;var e=this.markerClusterer_.getCalculator()(this.markers_,d);this.clusterIcon_.setCenter(this.center_);this.clusterIcon_.setSums(e);this.clusterIcon_.show()};function ClusterIcon(a,c,b){a.getMarkerClusterer().extend(ClusterIcon,google.maps.OverlayView);this.styles_=c;this.padding_=b||0;this.cluster_=a;this.center_=null;this.map_=a.getMap();this.div_=null;this.sums_=null;this.visible_=false;this.setMap(this.map_)}ClusterIcon.prototype.triggerClusterClick=function(a){var b=this.cluster_.getMarkerClusterer();google.maps.event.trigger(b,"clusterclick",this.cluster_,a);if(b.isZoomOnClick()){this.map_.fitBounds(this.cluster_.getBounds())}};ClusterIcon.prototype.onAdd=function(){this.div_=document.createElement("DIV");this.div_.className="cluster";if(this.visible_){var c=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(c);this.div_.innerHTML=this.sums_.text;this.div_.className="cluster-visible"}var b=this.getPanes();b.overlayMouseTarget.appendChild(this.div_);var d=this;var a=false;google.maps.event.addDomListener(this.div_,"click",function(e){if(!a){d.triggerClusterClick(e)}});google.maps.event.addDomListener(this.div_,"mousedown",function(){a=false});google.maps.event.addDomListener(this.div_,"mousemove",function(){a=true})};ClusterIcon.prototype.getPosFromLatLng_=function(a){var b=this.getProjection().fromLatLngToDivPixel(a);if(typeof this.iconAnchor_==="object"&&this.iconAnchor_.length===2){b.x-=this.iconAnchor_[0];b.y-=this.iconAnchor_[1]}else{b.x-=parseInt(this.width_/2,10);b.y-=parseInt(this.height_/2,10)}return b};ClusterIcon.prototype.draw=function(){if(this.visible_){var a=this.getPosFromLatLng_(this.center_);this.div_.style.top=a.y+"px";this.div_.style.left=a.x+"px"}};ClusterIcon.prototype.hide=function(){if(this.div_){this.div_.style.display="none"}this.visible_=false};ClusterIcon.prototype.show=function(){if(this.div_){var a=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(a);this.div_.style.display=""}this.visible_=true};ClusterIcon.prototype.remove=function(){this.setMap(null)};ClusterIcon.prototype.onRemove=function(){if(this.div_&&this.div_.parentNode){this.hide();this.div_.parentNode.removeChild(this.div_);this.div_=null}};ClusterIcon.prototype.setSums=function(a){this.sums_=a;this.text_=a.text;this.index_=a.index;if(this.div_){this.div_.innerHTML=a.text}this.useStyle()};ClusterIcon.prototype.useStyle=function(){var a=Math.max(0,this.sums_.index-1);a=Math.min(this.styles_.length-1,a);var b=this.styles_[a];this.url_=b.url;this.height_=b.height;this.width_=b.width;this.textColor_=b.textColor;this.anchor_=b.anchor;this.textSize_=b.textSize;this.backgroundPosition_=b.backgroundPosition;this.iconAnchor_=b.iconAnchor};ClusterIcon.prototype.setCenter=function(a){this.center_=a};ClusterIcon.prototype.createCss=function(b){var c=[];c.push("background-image:url("+this.url_+");");var a=this.backgroundPosition_?this.backgroundPosition_:"0 0";c.push("background-position:"+a+";");if(typeof this.anchor_==="object"){if(typeof this.anchor_[0]==="number"&&this.anchor_[0]>0&&this.anchor_[0]<this.height_){c.push("height:"+(this.height_-this.anchor_[0])+"px; padding-top:"+this.anchor_[0]+"px;")}else{if(typeof this.anchor_[0]==="number"&&this.anchor_[0]<0&&-this.anchor_[0]<this.height_){c.push("height:"+this.height_+"px; line-height:"+(this.height_+this.anchor_[0])+"px;")}else{c.push("height:"+this.height_+"px; line-height:"+this.height_+"px;")}}if(typeof this.anchor_[1]==="number"&&this.anchor_[1]>0&&this.anchor_[1]<this.width_){c.push("width:"+(this.width_-this.anchor_[1])+"px; padding-left:"+this.anchor_[1]+"px;")}else{c.push("width:"+this.width_+"px; text-align:center;")}}else{c.push("height:"+this.height_+"px; line-height:"+this.height_+"px; width:"+this.width_+"px; text-align:center;")}var d=this.textColor_?this.textColor_:"black";var e=this.textSize_?this.textSize_:11;c.push("cursor:pointer; top:"+b.y+"px; left:"+b.x+"px; color:"+d+"; position:absolute; font-size:"+e+"px; font-family:Arial,sans-serif; font-weight:bold");return c.join("")};window.MarkerClusterer=MarkerClusterer;MarkerClusterer.prototype.addMarker=MarkerClusterer.prototype.addMarker;MarkerClusterer.prototype.addMarkers=MarkerClusterer.prototype.addMarkers;MarkerClusterer.prototype.clearMarkers=MarkerClusterer.prototype.clearMarkers;MarkerClusterer.prototype.fitMapToMarkers=MarkerClusterer.prototype.fitMapToMarkers;MarkerClusterer.prototype.getCalculator=MarkerClusterer.prototype.getCalculator;MarkerClusterer.prototype.getGridSize=MarkerClusterer.prototype.getGridSize;MarkerClusterer.prototype.getExtendedBounds=MarkerClusterer.prototype.getExtendedBounds;MarkerClusterer.prototype.getMap=MarkerClusterer.prototype.getMap;MarkerClusterer.prototype.getMarkers=MarkerClusterer.prototype.getMarkers;MarkerClusterer.prototype.getMaxZoom=MarkerClusterer.prototype.getMaxZoom;MarkerClusterer.prototype.getStyles=MarkerClusterer.prototype.getStyles;MarkerClusterer.prototype.getTotalClusters=MarkerClusterer.prototype.getTotalClusters;MarkerClusterer.prototype.getTotalMarkers=MarkerClusterer.prototype.getTotalMarkers;MarkerClusterer.prototype.redraw=MarkerClusterer.prototype.redraw;MarkerClusterer.prototype.removeMarker=MarkerClusterer.prototype.removeMarker;MarkerClusterer.prototype.removeMarkers=MarkerClusterer.prototype.removeMarkers;MarkerClusterer.prototype.resetViewport=MarkerClusterer.prototype.resetViewport;MarkerClusterer.prototype.repaint=MarkerClusterer.prototype.repaint;MarkerClusterer.prototype.setCalculator=MarkerClusterer.prototype.setCalculator;MarkerClusterer.prototype.setGridSize=MarkerClusterer.prototype.setGridSize;MarkerClusterer.prototype.setMaxZoom=MarkerClusterer.prototype.setMaxZoom;MarkerClusterer.prototype.onAdd=MarkerClusterer.prototype.onAdd;MarkerClusterer.prototype.draw=MarkerClusterer.prototype.draw;Cluster.prototype.getCenter=Cluster.prototype.getCenter;Cluster.prototype.getSize=Cluster.prototype.getSize;Cluster.prototype.getMarkers=Cluster.prototype.getMarkers;ClusterIcon.prototype.onAdd=ClusterIcon.prototype.onAdd;ClusterIcon.prototype.draw=ClusterIcon.prototype.draw;ClusterIcon.prototype.onRemove=ClusterIcon.prototype.onRemove;(function(a){if(!Array.prototype.forEach){a.forEach=a.forEach||function(b,e){for(var c=0,d=this.length;c<d;c++){if(c in this){b.call(e,this[c],c,this)}}}}})(Array.prototype);var mapObject,markers=[],markersData={Marker:[{type_point:"Italian Food",name:"Restaurant Name",location_latitude:48.865633,location_longitude:2.321236,map_image_url:"img/thumb_map_single_restaurant.jpg",rate:"Superb | 7.5",name_point:"Restaurant Name",get_directions_start_address:"",phone:"+3934245255",url_point:"detail-restaurant.html"},{type_point:"Italian Food",name:"Restaurant Name",location_latitude:48.854183,location_longitude:2.354808,map_image_url:"img/thumb_map_single_restaurant.jpg",rate:"Superb | 7.5",name_point:"Restaurant Name",get_directions_start_address:"",phone:"+3934245255",url_point:"detail-restaurant.html"},{type_point:"Italian Food",name:"Restaurant Name",location_latitude:48.863893,location_longitude:2.342348,map_image_url:"img/thumb_map_single_restaurant.jpg",rate:"Superb | 7.5",name_point:"Restaurant Name",get_directions_start_address:"",phone:"+3934245255",url_point:"detail-restaurant.html"},{type_point:"Italian Food",name:"Restaurant Name",location_latitude:48.860642,location_longitude:2.352245,map_image_url:"img/thumb_map_single_restaurant.jpg",rate:"Superb | 7.5",name_point:"Restaurant Name",get_directions_start_address:"",phone:"+3934245255",url_point:"detail-restaurant.html"},{type_point:"Italian Food",name:"Restaurant Name",location_latitude:48.85837,location_longitude:2.294481,map_image_url:"img/thumb_map_single_restaurant.jpg",rate:"Superb | 7.5",name_point:"Restaurant Name",get_directions_start_address:"",phone:"+3934245255",url_point:"detail-restaurant.html"},{type_point:"Italian Food",name:"Restaurant Name",location_latitude:48.837273,location_longitude:2.335387,map_image_url:"img/thumb_map_single_restaurant.jpg",rate:"Superb | 7.5",name_point:"Restaurant Name",get_directions_start_address:"",phone:"+3934245255",url_point:"detail-restaurant.html"},{type_point:"Italian Food",name:"Restaurant Name",location_latitude:48.860819,location_longitude:2.354507,map_image_url:"img/thumb_map_single_restaurant.jpg",rate:"Superb | 7.5",name_point:"Restaurant Name",get_directions_start_address:"",phone:"+3934245255",url_point:"detail-restaurant.html"},{type_point:"Italian Food",name:"Restaurant Name",location_latitude:48.853798,location_longitude:2.333328,map_image_url:"img/thumb_map_single_restaurant.jpg",rate:"Superb | 7.5",name_point:"Restaurant Name",get_directions_start_address:"",phone:"+3934245255",url_point:"detail-restaurant.html"},{type_point:"Italian Food",name:"Restaurant Name",location_latitude:48.86288,location_longitude:2.287205,map_image_url:"img/thumb_map_single_restaurant.jpg",rate:"Superb | 7.5",name_point:"Restaurant Name",get_directions_start_address:"",url_point:"detail-restaurant.html"},{type_point:"Italian Food",name:"Restaurant Name",location_latitude:48.865784,location_longitude:2.307314,map_image_url:"img/thumb_map_single_restaurant.jpg",rate:"Superb | 7.5",name_point:"Restaurant Name",get_directions_start_address:"",phone:"+3934245255",url_point:"detail-restaurant.html"},{type_point:"Italian Food",name:"Restaurant Name",location_latitude:48.852729,location_longitude:2.350564,map_image_url:"img/thumb_map_single_restaurant.jpg",rate:"Superb | 7.5",name_point:"Restaurant Name",get_directions_start_address:"",phone:"+3934245255",url_point:"detail-restaurant.html"},{type_point:"Italian Food",name:"Restaurant Name",location_latitude:48.870587,location_longitude:2.318943,map_image_url:"img/thumb_map_single_restaurant.jpg",rate:"Superb | 7.5",name_point:"Restaurant Name",get_directions_start_address:"",phone:"+3934245255",url_point:"detail-restaurant.html"}]};var mapOptions={zoom:14,center:new google.maps.LatLng(48.865633,2.321236),mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:false,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU,position:google.maps.ControlPosition.LEFT_CENTER},panControl:false,panControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT},zoomControl:true,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM},scrollwheel:false,scaleControl:false,scaleControlOptions:{position:google.maps.ControlPosition.TOP_LEFT},streetViewControl:true,streetViewControlOptions:{position:google.maps.ControlPosition.LEFT_TOP},styles:[{featureType:"administrative.country",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"administrative.province",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"administrative.neighborhood",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"landscape.man_made",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"landscape.natural.landcover",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"landscape.natural.terrain",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.attraction",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.government",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"poi.park",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.place_of_worship",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.school",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.sports_complex",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway.controlled_access",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.local",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"transit.line",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"transit.station.airport",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"transit.station.bus",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"transit.station.rail",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"off"}]}]};var marker;mapObject=new google.maps.Map(document.getElementById("map"),mapOptions);for(var key in markersData){markersData[key].forEach(function(a){marker=new google.maps.Marker({position:new google.maps.LatLng(a.location_latitude,a.location_longitude),map:mapObject,icon:"img/pins/"+key+".png",});if("undefined"===typeof markers[key]){markers[key]=[]}markers[key].push(marker);google.maps.event.addListener(marker,"click",(function(){closeInfoBox();getInfoBox(a).open(mapObject,this);mapObject.setCenter(new google.maps.LatLng(a.location_latitude,a.location_longitude))}))})}new MarkerClusterer(mapObject,markers[key]);function hideAllMarkers(){for(var a in markers){markers[a].forEach(function(b){b.setMap(null)})}}function closeInfoBox(){$("div.infoBox").remove()}function getInfoBox(a){return new InfoBox({content:'<div class="marker_info" id="marker_info"><img src="'+a.map_image_url+'" alt=""/><span><span class="infobox_rate">'+a.rate+"</span><h3>"+a.name_point+"</h3><em>"+a.type_point+"</em><strong>"+a.description_point+'</strong><a href="'+a.url_point+'" class="btn_infobox_detail"></a><form action="http://maps.google.com/maps" method="get" target="_blank"><input name="saddr" value="'+a.get_directions_start_address+'" type="hidden"><input type="hidden" name="daddr" value="'+a.location_latitude+","+a.location_longitude+'"><button type="submit" value="Get directions" class="btn_infobox_get_directions">Get directions</button></form><a href="tel://'+a.phone+'" class="btn_infobox_phone">'+a.phone+"</a></span></div>",disableAutoPan:false,maxWidth:0,pixelOffset:new google.maps.Size(10,92),closeBoxMargin:"",closeBoxURL:"img/close_infobox.png",isHidden:false,alignBottom:true,pane:"floatPane",enableEventPropagation:true})}function onHtmlClick(b,a){google.maps.event.trigger(markers[b][a],"click")}
/*
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *       http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function InfoBox(a){a=a||{};google.maps.OverlayView.apply(this,arguments);this.content_=a.content||"";this.disableAutoPan_=a.disableAutoPan||false;this.maxWidth_=a.maxWidth||0;this.pixelOffset_=a.pixelOffset||new google.maps.Size(0,0);this.position_=a.position||new google.maps.LatLng(0,0);this.zIndex_=a.zIndex||null;this.boxClass_=a.boxClass||"infoBox";this.boxStyle_=a.boxStyle||{};this.closeBoxMargin_=a.closeBoxMargin||"2px";this.closeBoxURL_=a.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif";if(a.closeBoxURL===""){this.closeBoxURL_=""}this.infoBoxClearance_=a.infoBoxClearance||new google.maps.Size(1,1);if(typeof a.visible==="undefined"){if(typeof a.isHidden==="undefined"){a.visible=true}else{a.visible=!a.isHidden}}this.isHidden_=!a.visible;this.alignBottom_=a.alignBottom||false;this.pane_=a.pane||"floatPane";this.enableEventPropagation_=a.enableEventPropagation||false;this.div_=null;this.closeListener_=null;this.moveListener_=null;this.contextListener_=null;this.eventListeners_=null;this.fixedWidthSet_=null}InfoBox.prototype=new google.maps.OverlayView();InfoBox.prototype.createInfoBoxDiv_=function(){var d;var c;var a;var f=this;var b=function(g){g.cancelBubble=true;if(g.stopPropagation){g.stopPropagation()}};var e=function(g){g.returnValue=false;if(g.preventDefault){g.preventDefault()}if(!f.enableEventPropagation_){b(g)}};if(!this.div_){this.div_=document.createElement("div");this.setBoxStyle_();if(typeof this.content_.nodeType==="undefined"){this.div_.innerHTML=this.getCloseBoxImg_()+this.content_}else{this.div_.innerHTML=this.getCloseBoxImg_();this.div_.appendChild(this.content_)}this.getPanes()[this.pane_].appendChild(this.div_);this.addClickHandler_();if(this.div_.style.width){this.fixedWidthSet_=true}else{if(this.maxWidth_!==0&&this.div_.offsetWidth>this.maxWidth_){this.div_.style.width=this.maxWidth_;this.div_.style.overflow="auto";this.fixedWidthSet_=true}else{a=this.getBoxWidths_();this.div_.style.width=(this.div_.offsetWidth-a.left-a.right)+"px";this.fixedWidthSet_=false}}this.panBox_(this.disableAutoPan_);if(!this.enableEventPropagation_){this.eventListeners_=[];c=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"];for(d=0;d<c.length;d++){this.eventListeners_.push(google.maps.event.addDomListener(this.div_,c[d],b))}this.eventListeners_.push(google.maps.event.addDomListener(this.div_,"mouseover",function(g){this.style.cursor="default"}))}this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",e);google.maps.event.trigger(this,"domready")}};InfoBox.prototype.getCloseBoxImg_=function(){var a="";if(this.closeBoxURL_!==""){a="<img";a+=" src='"+this.closeBoxURL_+"'";a+=" align=right";a+=" style='";a+=" position: relative;";a+=" cursor: pointer;";a+=" margin: "+this.closeBoxMargin_+";";a+="'>"}return a};InfoBox.prototype.addClickHandler_=function(){var a;if(this.closeBoxURL_!==""){a=this.div_.firstChild;this.closeListener_=google.maps.event.addDomListener(a,"click",this.getCloseClickHandler_())}else{this.closeListener_=null}};InfoBox.prototype.getCloseClickHandler_=function(){var a=this;return function(b){b.cancelBubble=true;if(b.stopPropagation){b.stopPropagation()}google.maps.event.trigger(a,"closeclick");a.close()}};InfoBox.prototype.panBox_=function(d){var i;var a;var p=0,q=0;if(!d){i=this.getMap();if(i instanceof google.maps.Map){if(!i.getBounds().contains(this.position_)){i.setCenter(this.position_)}a=i.getBounds();var j=i.getDiv();var l=j.offsetWidth;var k=j.offsetHeight;var f=this.pixelOffset_.width;var g=this.pixelOffset_.height;var h=this.div_.offsetWidth;var e=this.div_.offsetHeight;var m=this.infoBoxClearance_.width;var n=this.infoBoxClearance_.height;var o=this.getProjection().fromLatLngToContainerPixel(this.position_);if(o.x<(-f+m)){p=o.x+f-m}else{if((o.x+h+f+m)>l){p=o.x+h+f+m-l}}if(this.alignBottom_){if(o.y<(-g+n+e)){q=o.y+g-n-e}else{if((o.y+g+n)>k){q=o.y+g+n-k}}}else{if(o.y<(-g+n)){q=o.y+g-n}else{if((o.y+e+g+n)>k){q=o.y+e+g+n-k}}}if(!(p===0&&q===0)){var b=i.getCenter();i.panBy(p,q)}}}};InfoBox.prototype.setBoxStyle_=function(){var b,a;if(this.div_){this.div_.className=this.boxClass_;this.div_.style.cssText="";a=this.boxStyle_;for(b in a){if(a.hasOwnProperty(b)){this.div_.style[b]=a[b]}}if(typeof this.div_.style.opacity!=="undefined"&&this.div_.style.opacity!==""){this.div_.style.filter="alpha(opacity="+(this.div_.style.opacity*100)+")"}this.div_.style.position="absolute";this.div_.style.visibility="hidden";if(this.zIndex_!==null){this.div_.style.zIndex=this.zIndex_}}};InfoBox.prototype.getBoxWidths_=function(){var c;var b={top:0,bottom:0,left:0,right:0};var a=this.div_;if(document.defaultView&&document.defaultView.getComputedStyle){c=a.ownerDocument.defaultView.getComputedStyle(a,"");if(c){b.top=parseInt(c.borderTopWidth,10)||0;b.bottom=parseInt(c.borderBottomWidth,10)||0;b.left=parseInt(c.borderLeftWidth,10)||0;b.right=parseInt(c.borderRightWidth,10)||0}}else{if(document.documentElement.currentStyle){if(a.currentStyle){b.top=parseInt(a.currentStyle.borderTopWidth,10)||0;b.bottom=parseInt(a.currentStyle.borderBottomWidth,10)||0;b.left=parseInt(a.currentStyle.borderLeftWidth,10)||0;b.right=parseInt(a.currentStyle.borderRightWidth,10)||0}}}return b};InfoBox.prototype.onRemove=function(){if(this.div_){this.div_.parentNode.removeChild(this.div_);this.div_=null}};InfoBox.prototype.draw=function(){this.createInfoBoxDiv_();var a=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=(a.x+this.pixelOffset_.width)+"px";if(this.alignBottom_){this.div_.style.bottom=-(a.y+this.pixelOffset_.height)+"px"}else{this.div_.style.top=(a.y+this.pixelOffset_.height)+"px"}if(this.isHidden_){this.div_.style.visibility="hidden"}else{this.div_.style.visibility="visible"}};InfoBox.prototype.setOptions=function(a){if(typeof a.boxClass!=="undefined"){this.boxClass_=a.boxClass;this.setBoxStyle_()}if(typeof a.boxStyle!=="undefined"){this.boxStyle_=a.boxStyle;this.setBoxStyle_()}if(typeof a.content!=="undefined"){this.setContent(a.content)}if(typeof a.disableAutoPan!=="undefined"){this.disableAutoPan_=a.disableAutoPan}if(typeof a.maxWidth!=="undefined"){this.maxWidth_=a.maxWidth}if(typeof a.pixelOffset!=="undefined"){this.pixelOffset_=a.pixelOffset}if(typeof a.alignBottom!=="undefined"){this.alignBottom_=a.alignBottom}if(typeof a.position!=="undefined"){this.setPosition(a.position)}if(typeof a.zIndex!=="undefined"){this.setZIndex(a.zIndex)}if(typeof a.closeBoxMargin!=="undefined"){this.closeBoxMargin_=a.closeBoxMargin}if(typeof a.closeBoxURL!=="undefined"){this.closeBoxURL_=a.closeBoxURL}if(typeof a.infoBoxClearance!=="undefined"){this.infoBoxClearance_=a.infoBoxClearance}if(typeof a.isHidden!=="undefined"){this.isHidden_=a.isHidden}if(typeof a.visible!=="undefined"){this.isHidden_=!a.visible}if(typeof a.enableEventPropagation!=="undefined"){this.enableEventPropagation_=a.enableEventPropagation}if(this.div_){this.draw()}};InfoBox.prototype.setContent=function(a){this.content_=a;if(this.div_){if(this.closeListener_){google.maps.event.removeListener(this.closeListener_);this.closeListener_=null}if(!this.fixedWidthSet_){this.div_.style.width=""}if(typeof a.nodeType==="undefined"){this.div_.innerHTML=this.getCloseBoxImg_()+a}else{this.div_.innerHTML=this.getCloseBoxImg_();this.div_.appendChild(a)}if(!this.fixedWidthSet_){this.div_.style.width=this.div_.offsetWidth+"px";if(typeof a.nodeType==="undefined"){this.div_.innerHTML=this.getCloseBoxImg_()+a}else{this.div_.innerHTML=this.getCloseBoxImg_();this.div_.appendChild(a)}}this.addClickHandler_()}google.maps.event.trigger(this,"content_changed")};InfoBox.prototype.setPosition=function(a){this.position_=a;if(this.div_){this.draw()}google.maps.event.trigger(this,"position_changed")};InfoBox.prototype.setZIndex=function(a){this.zIndex_=a;if(this.div_){this.div_.style.zIndex=a}google.maps.event.trigger(this,"zindex_changed")};InfoBox.prototype.setVisible=function(a){this.isHidden_=!a;if(this.div_){this.div_.style.visibility=(this.isHidden_?"hidden":"visible")}};InfoBox.prototype.getContent=function(){return this.content_};InfoBox.prototype.getPosition=function(){return this.position_};InfoBox.prototype.getZIndex=function(){return this.zIndex_};InfoBox.prototype.getVisible=function(){var a;if((typeof this.getMap()==="undefined")||(this.getMap()===null)){a=false}else{a=!this.isHidden_}return a};InfoBox.prototype.show=function(){this.isHidden_=false;if(this.div_){this.div_.style.visibility="visible"}};InfoBox.prototype.hide=function(){this.isHidden_=true;if(this.div_){this.div_.style.visibility="hidden"}};InfoBox.prototype.open=function(b,a){var c=this;if(a){this.position_=a.getPosition();this.moveListener_=google.maps.event.addListener(a,"position_changed",function(){c.setPosition(this.getPosition())})}this.setMap(b);if(this.div_){this.panBox_()}};InfoBox.prototype.close=function(){var a;if(this.closeListener_){google.maps.event.removeListener(this.closeListener_);this.closeListener_=null}if(this.eventListeners_){for(a=0;a<this.eventListeners_.length;a++){google.maps.event.removeListener(this.eventListeners_[a])}this.eventListeners_=null}if(this.moveListener_){google.maps.event.removeListener(this.moveListener_);this.moveListener_=null}if(this.contextListener_){google.maps.event.removeListener(this.contextListener_);this.contextListener_=null}this.setMap(null)};