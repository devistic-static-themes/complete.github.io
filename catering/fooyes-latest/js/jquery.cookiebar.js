(function(a){a.cookieBar=function(r,x){if(r=="cookies"){var m="cookies"}else{if(r=="set"){var m="set"}else{var m=false}}var l={message:"We use cookies to track usage and preferences.",acceptButton:true,acceptText:"OK",acceptFunction:function(i){if(i!="enabled"&&i!="accepted"){window.location=window.location.href}},declineButton:false,declineText:"Disable Cookies",declineFunction:function(i){if(i=="enabled"||i=="accepted"){window.location=window.location.href}},policyButton:true,policyText:"Privacy Policy",policyURL:"#",autoEnable:true,acceptOnContinue:false,acceptOnScroll:false,acceptAnyClick:false,expireDays:365,renewOnVisit:false,forceShow:false,effect:"slide",element:"body",append:false,fixed:false,bottom:true,zindex:"",domain:String(window.location.hostname),referrer:String(document.referrer)};var r=a.extend(l,r);var n=new Date();n.setTime(n.getTime()+(r.expireDays*86400000));n=n.toGMTString();var h="cb-enabled={value}; expires="+n+"; path=/";var p,j="",c,d=document.cookie.split("; ");for(p=0;p<d.length;p++){c=d[p].split("=");if(c[0]=="cb-enabled"){j=c[1]}}if(j==""&&m!="cookies"&&r.autoEnable){j="enabled";document.cookie=h.replace("{value}","enabled")}else{if((j=="accepted"||j=="declined")&&m!="cookies"&&r.renewOnVisit){document.cookie=h.replace("{value}",j)}}if(r.acceptOnContinue){if(r.referrer.indexOf(r.domain)>=0&&String(window.location.href).indexOf(r.policyURL)==-1&&m!="cookies"&&m!="set"&&j!="accepted"&&j!="declined"){m="set";x="accepted"}}if(m=="cookies"){if(j=="enabled"||j=="accepted"){return true}else{return false}}else{if(m=="set"&&(x=="accepted"||x=="declined")){document.cookie=h.replace("{value}",x);if(x=="accepted"){return true}else{return false}}else{var q=r.message.replace("{policy_url}",r.policyURL);if(r.acceptButton){var b='<a href="" class="cb-enable">'+r.acceptText+"</a>"}else{var b=""}if(r.declineButton){var k='<a href="" class="cb-disable">'+r.declineText+"</a>"}else{var k=""}if(r.policyButton){var s='<a href="'+r.policyURL+'" class="cb-policy">'+r.policyText+"</a>"}else{var s=""}if(r.fixed){if(r.bottom){var o=' class="fixed bottom"'}else{var o=' class="fixed"'}}else{var o=""}if(r.zindex!=""){var y=' style="z-index:'+r.zindex+';"'}else{var y=""}if(r.forceShow||j=="enabled"||j==""){if(r.append){a(r.element).append('<div id="cookie-bar"'+o+y+"><p>"+q+b+k+s+"</p></div>")}else{a(r.element).prepend('<div id="cookie-bar"'+o+y+"><p>"+q+b+k+s+"</p></div>")}}var t=function(i){if(r.acceptOnScroll){a(document).off("scroll")}if(typeof(i)==="function"){i(j)}if(r.effect=="slide"){a("#cookie-bar").slideUp(300,function(){a("#cookie-bar").remove()})}else{if(r.effect=="fade"){a("#cookie-bar").fadeOut(300,function(){a("#cookie-bar").remove()})}else{a("#cookie-bar").hide(0,function(){a("#cookie-bar").remove()})}}a(document).unbind("click",e)};var f=function(){document.cookie=h.replace("{value}","accepted");t(r.acceptFunction)};var g=function(){var i=new Date();i.setTime(i.getTime()-(864000000));i=i.toGMTString();d=document.cookie.split("; ");for(p=0;p<d.length;p++){c=d[p].split("=");if(c[0].indexOf("_")>=0){document.cookie=c[0]+"=0; expires="+i+"; domain="+r.domain.replace("www","")+"; path=/"}else{document.cookie=c[0]+"=0; expires="+i+"; path=/"}}document.cookie=h.replace("{value}","declined");t(r.declineFunction)};var e=function(i){if(!a(i.target).hasClass("cb-policy")){f()}};a("#cookie-bar .cb-enable").click(function(){f();return false});a("#cookie-bar .cb-disable").click(function(){g();return false});if(r.acceptOnScroll){var w=a(document).scrollTop(),v,u;a(document).on("scroll",function(){v=a(document).scrollTop();if(v>w){u=v-w}else{u=w-v}if(u>=Math.round(r.acceptOnScroll)){f()}})}if(r.acceptAnyClick){a(document).bind("click",e)}}}}})(jQuery);