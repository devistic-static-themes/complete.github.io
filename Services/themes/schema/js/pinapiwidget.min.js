jQuery(document).ready(function(a){function v(c,a,t){var k=document.createElement("a"),p=/(?:\?|&amp;|&)+([^=]+)(?:=([^&]*))*/g,q=[];k.href=c;for(a=encodeURIComponent(a);c=p.exec(k.search);)a!=c[1]&&q.push(c[1]+(c[2]?"="+c[2]:""));q.push(a+(t?"="+encodeURIComponent(t):""));k.search=q.join("&");return k.href}function z(a){return null!=a?a.replace("http://","").replace("https://","").replace("www.","").split(/[/?#]/)[0]:""}function w(){setTimeout(function(){for(var c=0;c<a(".pindiv_pinWrapper").length;c++)if($thisPin=
a(".pindiv_pinWrapper:eq("+c+")"),$thisPin.isOnScreen()&&void 0!=$thisPin.attr("bg-image")){var n=$thisPin.attr("bg-image");$thisPin.find(".pindiv_pinWrapper_content").css("background-image","url("+n+")");$thisPin.removeAttr("bg-image")}},300)}var u;window.addEventListener("resize",function(a){"function"==typeof placePins&&(clearTimeout(u),u=setTimeout(placePins("resize"),100))});a.fn.isOnScreen=function(){var a=this.get(0).getBoundingClientRect();return a.top<window.innerHeight&&0<a.bottom};a(document).on("mouseenter",
".pindiv_pinWrapper_content",function(){a(this).css({opacity:.9,"-webkit-opacity":.9,"-moz-opacity":.9}).find(".pindiv_pinWrapper_sourcelink").css({opacity:1,"-webkit-opacity":1,"-moz-opacity":1});a(this).find(".pin_data_pinbutton").css({opacity:1,"-webkit-opacity":1,"-moz-opacity":1})});a(document).on("mouseleave",".pindiv_pinWrapper_content",function(){a(this).css({opacity:1,"-webkit-opacity":1,"-moz-opacity":1}).find(".pindiv_pinWrapper_sourcelink").css({opacity:0,"-webkit-opacity":0,"-moz-opacity":0});
a(this).find(".pin_data_pinbutton").css({opacity:0,"-webkit-opacity":0,"-moz-opacity":0})});(function(){a("div[data-pin]").each(function(){var c=this,n=a(c).attr("data-pin-user");a(c).attr("data-pin-type");var t=a(c).attr("data-pin-header"),k=a(c).attr("data-pin-height"),p=Number(a(c).attr("data-pin-limit")),q=a(c).attr("data-pin-pinbutton"),u=a(c).attr("data-pin-sourcelink"),r=Number(a(c).attr("data-pin-descrlength")),f=0<Number(a(c).attr("data-pin-pinwidth"))?Number(a(c).attr("data-pin-pinwidth")):
237,A="responsive"==a(this).attr("data-pin-width")?"100%":a(c).attr("data-pin-width")+"px",l;"board"==a(this).attr("data-pin-type")&&(l=a(c).attr("data-pin-board"),l="https://api.pinterest.com/v3/pidgets/boards/"+n+"/"+l+"/pins/");"user"==a(this).attr("data-pin-type")&&(l="https://api.pinterest.com/v3/pidgets/users/"+n+"/pins/");a.ajax({url:l,jsonp:"callback",dataType:"jsonp",error:function(a,c,f){console.log(c,f)},success:function(g){var b=jQuery.parseJSON(JSON.stringify(g));console.log(b);if("success"!=
b.status)a(c).html("<p style='text-align:center;'>"+b.message+"</p>");else{var l=function(){var a=document.createElement("div");a.style.visibility="hidden";a.style.width="100px";a.style.msOverflowStyle="scrollbar";document.body.appendChild(a);var c=a.offsetWidth;a.style.overflow="scroll";var b=document.createElement("div");b.style.width="100%";a.appendChild(b);b=b.offsetWidth;a.parentNode.removeChild(a);return c-b},b=jQuery.parseJSON(JSON.stringify(g).replace(/\"237x/g,'"largeimg'));if("board"==a(c).attr("data-pin-type"))var d=
b.data.board.name,e="https://www.pinterest.com"+b.data.board.url,n=b.data.board.pin_count,x=b.data.board.image_thumbnail_url,y=b.data.board.follower_count;"user"==a(c).attr("data-pin-type")&&(d=b.data.user.full_name,e=b.data.user.profile_url,n=b.data.user.pin_count,x=b.data.user.image_small_url,y=b.data.user.follower_count);a(c).css({width:A,height:k});"yes"==t?(a(c).append("<div class='pindivheader'><div class='pindiv_user'><img src='"+x+"'/><a href='"+e+"' class='pindiv_username'>"+d+"</a></div></div>"),
a(c).append("<hr class='pindiv_hr' />"),a(c).append("<div class='pindiv_tabs'><ul><li><span class='pindiv_value'>"+n+"</span><span class='pindiv_label'>pins</span></li><li><span class='pindiv_value'>"+y+"</span><span class='pindiv_label'>followers</span></li></ul></div>"),a(c).append("<div class='pindiv_container'><div class='pindiv_container_inner'></div></div>"),g=k-(a(".pindivheader").outerHeight(!0)+a("hr.pindiv_hr").outerHeight(!0)+a(".pindiv_tabs").outerHeight(!0)),0<g&&a(c).find(".pindiv_container").css({height:g})):
(a(c).append("<div class='pindiv_container'><div class='pindiv_container_inner'></div></div>"),0<k&&a(c).find(".pindiv_container").css({height:k}));g=p<b.data.pins.length&&0<p?p:b.data.pins.length;for(d=0;d<g;d++)0==r?e="":-1==r?e=b.data.pins[d].description:b.data.pins[d].description.length>r&&0!=r?(e=b.data.pins[d].description.substring(0,r),e+="..."):e=b.data.pins[d].description,e="yes"==u&&null!=b.data.pins[d].link?"<div class='pindiv_pinWrapper' bg-image='"+b.data.pins[d].images.largeimg.url+
"'> \t<div class='pindiv_pinWrapper_content' style='background-color: "+b.data.pins[d].dominant_color+";width:"+f+"px;height:"+b.data.pins[d].images.largeimg.height*f/237+"px;'> \t<a class='pindiv_pinWrapper_pinlink' target='_blank' style='width:"+f+"px;height:"+Math.floor((b.data.pins[d].images.largeimg.height-40)*f/237)+"px' href='https://www.pinterest.com/pin/"+b.data.pins[d].id+"'></a> \t<a class='pindiv_pinWrapper_sourcelink' target='_blank' href='"+b.data.pins[d].link+"'>"+z(b.data.pins[d].link)+
"</a> \t \t</div> <div class='pindiv_pinWrapper_decr' style='width:"+f+"px'>"+e+"</div> </div>":"<div class='pindiv_pinWrapper' bg-image='"+b.data.pins[d].images.largeimg.url+"'> \t<div class='pindiv_pinWrapper_content' style='background-color: "+b.data.pins[d].dominant_color+";width:"+f+"px;height:"+b.data.pins[d].images.largeimg.height*f/237+"px;'> \t<a class='pindiv_pinWrapper_pinlink' target='_blank' style='width:"+f+"px;height:"+Math.floor((b.data.pins[d].images.largeimg.height-40)*f/237)+"px' href='https://www.pinterest.com/pin/"+
b.data.pins[d].id+"'></a> \t</div> <div class='pindiv_pinWrapper_decr' style='width:"+f+"px'>"+e+"</div> </div>",a(c).find(".pindiv_container_inner").append(e),"yes"==q&&(e=v("https://www.pinterest.com/pin/create/button/","url","https://www.pinterest.com/pin/"+b.data.pins[d].id+""),e=v(e,"media",b.data.pins[d].images.largeimg.url),e=v(e,"description",b.data.pins[d].description),a(c).find(".pindiv_pinWrapper_content:eq("+d+")").append("<a class='pin_data_pinbutton' href='"+e+"'    target='_blank' data-pin-do='buttonPin'    data-pin-config='above' style='left:"+
(f-40)/2+"px;'></a>"));window.placePins=function(b){var d="resize"==b?l():0;0==0<k?b=l():d=b=0;b=Math.floor((a(c).find(".pindiv_container").width()-b)/(f+5));for(var d=Math.floor((a(c).find(".pindiv_container").width()-d-b*f)/(b+1)),e=[],h=0;h<b;h++)e[h]=0;for(h=0;h<a(c).find(".pindiv_pinWrapper").length;h++){if(h<b){var g=20,m=(f+d)*h+d;e[h]=a(c).find(".pindiv_pinWrapper:eq("+h+")").outerHeight(!0)+g}else g=Math.min.apply(Math,e),m=e.indexOf(g),e[m]+=a(c).find(".pindiv_pinWrapper:eq("+h+")").outerHeight(!0),
m=(f+d)*m+d;a(c).find(".pindiv_pinWrapper:eq("+h+")").css({"-webkit-transform":"translate3d("+m+"px,"+g+"px,0)"});a(c).find(".pindiv_pinWrapper:eq("+h+")").css({"-moz-transform":"translate3d("+m+"px,"+g+"px,0)"});a(c).find(".pindiv_pinWrapper:eq("+h+")").css({transform:"translate3d("+m+"px,"+g+"px,0)"})}0==0<k&&a(c).find(".pindiv_container_inner").css({height:Math.max.apply(Math,e)+"px"});w()};placePins();for(d=0;d<g;d++)$thisPin=a(c).find(".pindiv_pinWrapper:eq("+d+")"),$thisPin.isOnScreen()&&void 0!=
$thisPin.attr("bg-image")&&(b=$thisPin.attr("bg-image"),$thisPin.find(".pindiv_pinWrapper_content").css("background-image","url("+b+")"),$thisPin.removeAttr("bg-image"));0<k?a(c).find(".pindiv_container_inner").bind("scroll",function(){w()}):window.onscroll=function(){w()}}}})})})()});